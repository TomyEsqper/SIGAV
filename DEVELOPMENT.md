# üöÄ Desarrollo con Hot Reload

## Configuraci√≥n Completa de Desarrollo

Este proyecto est√° configurado para desarrollo con **hot reload autom√°tico** en todos los componentes.

## üéØ Inicio R√°pido

### Windows (PowerShell)
```powershell
.\dev-start.ps1
```

### Linux/Mac (Bash)
```bash
./dev-start.sh
```

### Manual
```bash
docker-compose -f docker-compose.dev.yml up --build
```

## üî• Hot Reload - Cambios Autom√°ticos

### ‚úÖ Frontend (Angular)
- **Puerto:** `http://localhost:4200`
- **Hot Reload:** ‚úÖ Autom√°tico
- **Cambios:** Se reflejan instant√°neamente al guardar archivos

### ‚úÖ Backend (.NET)
- **Puerto:** `http://localhost:5000`
- **Swagger:** `http://localhost:5000/swagger`
- **Hot Reload:** ‚úÖ Autom√°tico con `dotnet run --watch`
- **Cambios:** Se reflejan autom√°ticamente al guardar archivos `.cs`

### ‚úÖ Base de Datos (PostgreSQL)
- **Puerto:** `localhost:5432`
- **Persistencia:** ‚úÖ Los datos se mantienen entre reinicios
- **Migraciones:** Se aplican autom√°ticamente

### ‚úÖ Cache (Redis)
- **Puerto:** `localhost:6379`
- **Persistencia:** ‚úÖ El cache se mantiene entre reinicios

## üõ†Ô∏è Servicios Disponibles

| Servicio | URL | Descripci√≥n |
|----------|-----|-------------|
| Frontend | http://localhost:4200 | Angular con hot reload |
| Backend API | http://localhost:5000 | .NET API con hot reload |
| Swagger | http://localhost:5000/swagger | Documentaci√≥n de APIs |
| pgAdmin | http://localhost:5050 | Administrador de PostgreSQL |
| PostgreSQL | localhost:5432 | Base de datos |
| Redis | localhost:6379 | Cache |

## üîß Comandos √ötiles

### Ver logs en tiempo real
```bash
docker-compose -f docker-compose.dev.yml up --follow
```

### Solo frontend y backend
```bash
docker-compose -f docker-compose.dev.yml up frontend-dev api-dev
```

### Solo backend y base de datos
```bash
docker-compose -f docker-compose.dev.yml up api-dev postgres redis
```

### Detener todos los servicios
```bash
docker-compose -f docker-compose.dev.yml down
```

### Resetear base de datos (cuidado, borra todos los datos)
```bash
docker-compose -f docker-compose.dev.yml down -v
docker-compose -f docker-compose.dev.yml up
```

## üóÑÔ∏è Acceso a Base de Datos

### pgAdmin
- **URL:** http://localhost:5050
- **Email:** admin@sigav.com
- **Password:** admin123

### Conexi√≥n Directa
- **Host:** localhost
- **Puerto:** 5432
- **Base de datos:** sigav
- **Usuario:** sigav_user
- **Password:** sigav_password

## üîÑ Flujo de Desarrollo

1. **Ejecuta:** `.\dev-start.ps1` (Windows) o `./dev-start.sh` (Linux/Mac)
2. **Desarrolla Frontend:**
   - Edita archivos en `frontend/src/`
   - Los cambios se reflejan autom√°ticamente en `http://localhost:4200`
3. **Desarrolla Backend:**
   - Edita archivos en `backend/Sigav.Api/`
   - Los cambios se reflejan autom√°ticamente en `http://localhost:5000`
4. **Prueba APIs:**
   - Usa Swagger en `http://localhost:5000/swagger`
5. **Administra DB:**
   - Usa pgAdmin en `http://localhost:5050`

## ‚ö° Ventajas de esta Configuraci√≥n

- ‚úÖ **Hot reload** en frontend y backend
- ‚úÖ **Persistencia** de datos y cache
- ‚úÖ **Entorno consistente** entre desarrolladores
- ‚úÖ **No reinicios** necesarios para cambios de c√≥digo
- ‚úÖ **F√°cil acceso** a todos los servicios
- ‚úÖ **Debugging** simplificado

## üö® Soluci√≥n de Problemas

### Si el backend no inicia
```bash
# Ver logs del backend
docker-compose -f docker-compose.dev.yml logs api-dev

# Rebuildear solo el backend
docker-compose -f docker-compose.dev.yml up --build api-dev
```

### Si el frontend no inicia
```bash
# Ver logs del frontend
docker-compose -f docker-compose.dev.yml logs frontend-dev

# Rebuildear solo el frontend
docker-compose -f docker-compose.dev.yml up --build frontend-dev
```

### Si la base de datos no conecta
```bash
# Verificar que PostgreSQL est√© corriendo
docker-compose -f docker-compose.dev.yml ps postgres

# Resetear solo la base de datos
docker-compose -f docker-compose.dev.yml down postgres
docker-compose -f docker-compose.dev.yml up postgres
```

¬°Ahora puedes desarrollar sin reiniciar nada! üéâ
